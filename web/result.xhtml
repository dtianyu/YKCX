<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
        </f:facet>
        <title>艺考查询平台</title>
        <ui:insert name="head" />
    </h:head>

    <h:body styleClass="BlueBody">

        <div class="Container100">
            <div class="Container100">
                <div class="Wid100 OvHidden DispBlock MarAuto WidAutoOnMobile" style="margin-top:7%;">
                    <div class="Card ShadowEffect">
                        <div class="Container100">
                            <div class="Card OrangeBack White TexAlCenter Fs30 FontVoltBold">艺考查询平台</div>
                        </div>
                        <h:form id="formOne">
                            <p:growl id="growl" showDetail="true" showSummary="false" autoUpdate="true"/>
                            <div class="Container100 Responsive100">
                                <div class="Card TexAlCenter">
                                    <div class="EmptyBox10"></div>
                                    <p:dataTable id="tabelList" value="#{examCardQueryBean.entityList}" var="item" styleClass="Wid100 Fs20"
                                                 selectionMode="single" selection="#{examCardQueryBean.currentEntity}" rowKey="#{item.id}">
                                        <p:ajax event="rowSelect" update="formOne:dlgProfile" oncomplete="PF('dlgProfile').show();"/>
                                        <f:facet name="header">
                                            成绩查询
                                        </f:facet>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="时间"/>
                                            </f:facet>
                                            <h:outputText value="#{item.formid}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="姓名"/>
                                            </f:facet>
                                            <h:outputText value="#{item.name}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="性别"/>
                                            </f:facet>
                                            <h:outputText value="#{item.gender}"/>
                                        </p:column>
                                        <p:column styleClass="Wid10">
                                            <f:facet name="header">
                                                <h:outputText value="出生年月"/>
                                            </f:facet>
                                            <h:outputText value="#{item.born}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="项目"/>
                                            </f:facet>
                                            <h:outputText value="#{item.project}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="专业"/>
                                            </f:facet>
                                            <h:outputText value="#{item.speciality}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="等级"/>
                                            </f:facet>
                                            <h:outputText value="#{item.lvl}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="成绩"/>
                                            </f:facet>
                                            <h:outputText value="#{item.awards}"/>
                                        </p:column>
                                        <p:column>
                                            <f:facet name="header">
                                                <h:outputText value="照片"/>
                                            </f:facet>
                                            <p:graphicImage value="/resources/upload/res/#{item.photo}" style="width:60px;height:32px"/>
                                        </p:column>
                                    </p:dataTable>
                                    <div class="EmptyBox10"></div>
                                    <div class="SeparatorFull"></div>
                                    <p:commandButton id="btnLogin" value="返回" action="query" icon="fa fa-rotate-left"
                                                     styleClass="GreenButton" update="@form"/>
                                </div>
                            </div>
                            <p:dialog header="个人信息" id="dlgProfile" widgetVar="dlgProfile" modal="true" showEffect="fade" hideEffect="fade" resizable="false" responsive="true">
                                <p:outputPanel id="carDetail" style="text-align:center;">
                                    <p:panelGrid  columns="1" rendered="#{not empty examCardQueryBean.currentEntity}">
                                        <f:facet name="header">
                                            <p:graphicImage value="/resources/upload/res/#{examCardQueryBean.currentEntity.photo}"/>
                                        </f:facet>
                                    </p:panelGrid>
                                </p:outputPanel>
                            </p:dialog>
                        </h:form>
                    </div>
                </div>
            </div>
        </div>

        <h:outputStylesheet name="css/core-layout.css" library="volt-layout" />
        <h:outputStylesheet name="css/animate.css" library="volt-layout" />
        <h:outputStylesheet name="css/volt-font.css" library="volt-layout" />
        <h:outputStylesheet name="css/font-awesome.css" library="volt-layout" />
        <h:outputStylesheet name="css/volt-layout.css" library="volt-layout" />
    </h:body>

</html>